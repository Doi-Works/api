{"version":3,"sources":["meteor://ðŸ’»app/packages/meteoreact:accounts/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReact.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/baseForm.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/changePwd.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/forgotPwd.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/resetPwd.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/signIn.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/signUp.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/socialButtons.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/commonUtils/getModel.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/commonUtils/handleInputChange.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/commonUtils/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/commonUtils/redirect.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/methods/ARCreateAccount.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/AccountsReactComponent/methods/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/regExp.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/validateField.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/validateForm.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/deepmerge/index.js","meteor://ðŸ’»app/packages/meteoreact:accounts/lib/utils/deepmerge/is-mergeable-object.js"],"names":["module","exports","require","Meteor","link","v","Accounts","regExp","default","merge","AccountsReact_","constructor","_init","config","confirmPassword","defaultState","disableForgotPassword","enablePasswordChange","focusFirstInput","isCordova","forbidClientAccountCreation","lowercaseUsername","loginAfterSignup","overrideLoginErrors","passwordSignupFields","sendVerificationEmail","setDenyRules","hideSignInLink","hideSignUpLink","showForgotPasswordLink","showLabels","showPlaceholders","continuousValidation","negativeValidation","onSubmitHook","errors","state","preSignupHook","password","info","redirects","mapStateToRoute","signIn","signUp","forgotPwd","changePwd","resetPwd","fields","_id","displayName","placeholder","re","Email","type","minLength","maxLength","Username","errStr","exclude","func","fieldObj","value","model","errorsArray","push","texts","button","title","links","toChangePwd","toResetPwd","toForgotPwd","toSignIn","toSignUp","toResendVerification","emailSent","emailVerified","pwdChanged","pwdReset","pwdSet","signUpVerifyEmail","verificationEmailSent","loginForbidden","captchaVerification","forgotPwdSubmitSuccess","loginForbiddenMessage","showReCaptcha","tempReCaptchaResponse","oauth","components","style","override","configure","determineSignupFields","loadReCaptcha","setAccountCreationPolicy","addFields","fieldsArray","concat","ex","Error","signupFilteredFields","signinFilteredFields","filter","field","forEach","required","logout","onLogoutHook","isClient","script","document","createElement","body","appendChild","async","src","window","reCaptchaCallback","res","isServer","validateLoginAttempt","attempt","error","reason","allowed","server","method_handlers","forgotPassword","users","deny","update","remove","insert","AccountsReact","startup","prefix","Package","exportDefault","module1","AccountsReactComponent","React","Component","PropTypes","handleInputChange","BaseForm","props","shouldFocusFirstInput","index","defaults","bind","context","componentDidMount","reCaptchaParams","reCaptcha","settings","public","setTimeout","grecaptcha","render","callback","currentState","values","onSubmit","_fields","FormField","InputField","SelectField","RadioField","SubmitField","TitleField","ErrorsField","globalErrors","errField","e","preventDefault","map","f","i","Field","key","onChange","find","focusInput","length","propTypes","object","isRequired","string","array","Fragment","validateForm","getModel","redirect","changePassword","ChangePwd","currentPassword","err","setState","passwordUpdated","componentWillMount","userId","ForgotPassword","sentPasswordResetLink","email","redirectToSignIn","SignIn","SignUp","ForgotPwd","ResetPwd","internalState","changeInternalState","toState","ensureComponentsExist","route","Object","keys","form","all","changeState","history","token","defaultProps","resetPassword","login","SocialButtons","username","onLoginHook","redirectToSignUp","redirectToForgotPwd","linkStyle","display","cursor","createUser","profile","newUser","_hashPassword","loginWith","service","_service","toUpperCase","substr","options","services","serviceNames","stateKeys","reduce","obj","validateOnChange","target","fieldChangedAtLeastOnce","hasOwnProperty","export","hook","ValidatedMethod","validateField","ARCreateAccount","name","validate","signupFields","run","userObject","passwordConfirmation","HTTP","post","params","secret","secretKey","response","remoteip","connection","clientAddress","data","success","call","loginWithPassword","oldPassword","newPassword","test","_errors","defaultIsMergeableObject","emptyTarget","val","Array","isArray","cloneUnlessOtherwiseSpecified","clone","isMergeableObject","deepmerge","defaultArrayMerge","source","element","mergeObject","destination","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","deepmergeAll","prev","next","isNonNullObject","isSpecial","stringValue","prototype","toString","isReactElement","canUseSymbol","Symbol","for","REACT_ELEMENT_TYPE","$$typeof"],"mappings":"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","file":"/packages/meteoreact_accounts.js","sourcesContent":["module.exports = require('./lib')\n","import { Meteor } from 'meteor/meteor'\nimport { Accounts } from 'meteor/accounts-base'\nimport regExp from './utils/regExp'\nimport merge from './utils/deepmerge'\n\nclass AccountsReact_ {\n  constructor () {\n    this._init = false\n    this.config = {\n\n      /* -----------------------------\n                    Behaviour\n         ----------------------------- */\n\n      confirmPassword: true,\n      defaultState: 'signIn',\n      disableForgotPassword: false,\n      enablePasswordChange: false,\n      focusFirstInput: !Meteor.isCordova,\n      forbidClientAccountCreation: false,\n      lowercaseUsername: false,\n      loginAfterSignup: true,\n      overrideLoginErrors: true,\n      passwordSignupFields: 'EMAIL_ONLY',\n      sendVerificationEmail: true,\n      setDenyRules: true,\n\n      /* -----------------------------\n                  Appearance\n         ----------------------------- */\n\n      hideSignInLink: false,\n      hideSignUpLink: false,\n      showForgotPasswordLink: false,\n      showLabels: true,\n      showPlaceholders: true,\n\n      /* -----------------------------\n            Client Side Validation\n         ----------------------------- */\n\n      continuousValidation: false,\n      negativeValidation: true,\n\n      /* -----------------------------\n                    Hooks\n         ----------------------------- */\n\n      onSubmitHook: (errors, state) => {},\n      preSignupHook: (password, info) => {},\n\n      /* -----------------------------\n                   Redirects\n         ----------------------------- */\n\n      redirects: {\n        // toSignUp: () => {}\n      },\n\n\n      /* -----------------------------\n                    Routes\n         ----------------------------- */\n\n      mapStateToRoute: {\n       signIn: '/sign-in',\n       signUp: '/sign-up',\n       forgotPwd: '/forgot-password',\n       changePwd: '/change-password',\n       resetPwd: '/reset-password'\n      },\n\n\n      /* -----------------------------\n                Fields (States)\n         ----------------------------- */\n\n      fields: {\n\n        /* Sign In */\n\n        signIn: [\n          {\n            _id: 'username',\n            displayName: 'Username',\n            placeholder: 'Enter your username'\n          },\n          {\n            _id: 'email',\n            displayName: 'Email',\n            placeholder: 'Enter your email',\n            re: regExp.Email\n          },\n          {\n            _id: 'password',\n            displayName: 'Password',\n            type: 'password',\n            placeholder: 'Enter your password'\n          }\n        ],\n\n        /* Sign Up */\n\n        signUp: [\n          {\n            _id: 'username',\n            displayName: 'Username',\n            placeholder:'Enter your username',\n            minLength: 4,\n            maxLength: 22,\n            re: regExp.Username,\n            errStr: 'Username must be between 4 and 22 characters',\n          },\n          {\n            _id: 'email',\n            displayName: 'Email',\n            placeholder: 'Enter your email',\n            re: regExp.Email,\n            errStr: 'Please enter a valid email'\n          },\n          {\n            _id: 'password',\n            displayName: 'Password',\n            type: 'password',\n            placeholder: 'Enter your password',\n            minLength: 6,\n            maxLength: 32,\n            errStr: 'Please enter a strong password between 6 and 32 characters'\n          },\n          {\n            _id: 'confirmPassword',\n            displayName: 'Confirm password',\n            type: 'password',\n            placeholder: 'Re-enter your password',\n            errStr: 'Password doesn\\'t match',\n            exclude: true,\n            func: (fields, fieldObj, value, model, errorsArray) => {\n              if (!this.config.confirmPassword) {\n                return true\n              }\n\n              // check that passwords match\n              const { password } = model\n              const { _id, errStr } = fieldObj\n\n              if (typeof password === 'string') {\n                if (!value || (value !== password)) {\n                  errorsArray.push({ _id, errStr })\n                  return\n                }\n              }\n\n              return true\n            }\n          }\n        ],\n\n        /* Forgot Password */\n\n        forgotPwd: [\n          {\n            _id: 'email',\n            displayName: 'Email',\n            placeholder: 'Enter your email',\n            re: regExp.Email,\n            errStr: 'Please enter a valid email'\n          }\n        ],\n\n        /* Change Password */\n\n        changePwd: [\n          {\n            _id: 'currentPassword',\n            displayName: 'Current password',\n            type: 'password',\n            placeholder: 'Enter your current password'\n          },\n          {\n            _id: 'password',\n            displayName: 'Password',\n            type: 'password',\n            placeholder: 'Enter a new password',\n            minLength: 6,\n            maxLength: 32,\n            errStr: 'Please enter a strong password between 6 and 32 characters'\n          }\n        ],\n\n        /* Reset Password */\n\n        resetPwd: [\n          {\n            _id: 'password',\n            displayName: 'New password',\n            type: 'password',\n            placeholder: 'Enter a new password'\n          }\n        ]\n      },\n\n      /* -----------------------------\n                     Texts\n         ----------------------------- */\n\n      texts: {\n        button: {\n          changePwd: 'Update New Password',\n          forgotPwd: 'Send Reset Link',\n          resetPwd: 'Save New Password',\n          signIn: 'Login',\n          signUp: 'Register'\n        },\n        title: {\n          changePwd: 'Change Password',\n          forgotPwd: 'Forgot Password',\n          resetPwd: 'Reset Password',\n          signIn: 'Login',\n          signUp: 'Create Your Account'\n        },\n        links: {\n          toChangePwd: 'Change your password',\n          toResetPwd: 'Reset your password',\n          toForgotPwd: 'Forgot your password?',\n          toSignIn: 'Already have an account? Sign in!',\n          toSignUp: 'Don\\'t have an account? Register',\n          toResendVerification: 'Resend email verification'\n        },\n        info: {\n          emailSent: 'An email has been sent to your inbox',\n          emailVerified: 'Your email has been verified',\n          pwdChanged: 'Your password has been changed',\n          pwdReset: 'A password reset link has been sent to your email!',\n          pwdSet: 'Password updated!',\n          signUpVerifyEmail: 'Successful Registration! Please check your email and follow the instructions',\n          verificationEmailSent: 'A new email has been sent to you. If the email doesn\\'t show up in your inbox, be sure to check your spam folder.'\n        },\n        errors: {\n          loginForbidden: 'There was a problem with your login',\n          captchaVerification: 'There was a problem with the recaptcha verification, please try again'\n        },\n        forgotPwdSubmitSuccess: 'A password reset link has been sent to your email!',\n        loginForbiddenMessage: 'There was a problem with your login'\n      },\n\n      showReCaptcha: false,\n      tempReCaptchaResponse: '',\n      oauth: {}\n    }\n\n    this.components = null\n  }\n\n  /* Set custom components */\n\n  style (components, override) {\n    // Settings override to true assumes that all components types are defined.\n    this.components = override ? components : { ...this.components, ...components }\n  }\n\n  /* Configuration */\n\n  configure (config) {\n    this.config = merge(this.config, config)\n\n    if (!this._init) {\n      this.determineSignupFields()\n      this.loadReCaptcha()\n      this.setAccountCreationPolicy()\n      this.overrideLoginErrors()\n      this.disableForgotPassword()\n      this.setDenyRules()\n\n      this._init = true\n    }\n  }\n\n  /* Extend default fields */\n\n  addFields (state, fields) {\n    try {\n      let fieldsArray = this.config.fields[state]\n      this.config.fields[state] = fieldsArray.concat(fields)\n    } catch (ex) {\n      throw new Error(ex)\n    }\n  }\n\n  determineSignupFields () {\n    const {\n      signUp,\n      signIn\n    } = this.config.fields\n\n    let signupFilteredFields;\n    let signinFilteredFields;\n    switch (this.config.passwordSignupFields) {\n      case 'EMAIL_ONLY':\n        signupFilteredFields = signUp.filter(field => field._id !== 'username')\n        signinFilteredFields = signIn.filter(field => field._id !== 'username')\n        break;\n      case 'USERNAME_ONLY':\n        signupFilteredFields = signUp.filter(field => field._id !== 'email')\n        signinFilteredFields = signIn.filter(field => field._id !== 'email')\n        break;\n      case 'USERNAME_AND_OPTIONAL_EMAIL':\n        signUp.forEach(field => {\n          if (field._id === 'email') {\n            field.required = false\n          }\n        })\n        signinFilteredFields = signIn.filter(field => field._id !== 'email')\n        break\n      case 'USERNAME_AND_EMAIL':\n        //\n        break\n      default:\n        throw new Error(\n          'passwordSignupFields must be set to one of ' +\n          '[EMAIL_ONLY, USERNAME_ONLY, USERNAME_AND_OPTIONAL_EMAIL, USERNAME_AND_EMAL]'\n        )\n    }\n\n    if (signupFilteredFields) {\n      this.config.fields.signUp = signupFilteredFields\n    }\n    if (signinFilteredFields) {\n      this.config.fields.signIn = signinFilteredFields\n    }\n  }\n\n  logout () {\n    const { onLogoutHook } = this.config\n    if (onLogoutHook) {\n      onLogoutHook()\n    }\n    Meteor.logout()\n  }\n\n  loadReCaptcha () {\n    if (this.config.showReCaptcha && Meteor.isClient) {\n      // load recaptcha script\n      const script = document.createElement('script');\n      document.body.appendChild(script)\n      script.async = true\n      script.src = 'https://www.google.com/recaptcha/api.js'\n\n      // Register a recaptcha callback\n      window.reCaptchaCallback = res => {\n        this.config.tempReCaptchaResponse = res\n      }\n    }\n  }\n\n  setAccountCreationPolicy () {\n    try {\n      Accounts.config({\n        forbidClientAccountCreation: this.config.forbidClientAccountCreation\n      })\n    } catch (ex) {\n      //\n    }\n  }\n\n  /* Server only */\n\n  overrideLoginErrors () {\n    if (this.config.overrideLoginErrors && Meteor.isServer) {\n      Accounts.validateLoginAttempt(attempt => {\n        if (attempt.error) {\n          var reason = attempt.error.reason\n          if (reason === 'User not found' || reason === 'Incorrect password') {\n            throw new Meteor.Error('Login Forbidden', this.config.texts.errors.loginForbidden) // Throw generalized error for failed login attempts\n          }\n        }\n        return attempt.allowed\n      })\n    }\n  }\n\n  disableForgotPassword () {\n    if (this.config.disableForgotPassword && Meteor.isServer) {\n      Meteor.server.method_handlers.forgotPassword = () => { // Override forgotPassword method directly.\n        throw new Meteor.Error('Forgot password is disabled')\n      }\n    }\n  }\n\n  setDenyRules () {\n    if (this.config.setDenyRules && Meteor.isServer) {\n      Meteor.users.deny({\n        update () { return true },\n        remove () { return true },\n        insert () { return true }\n      })\n    }\n  }\n}\n\nconst AccountsReact = new AccountsReact_()\nMeteor.startup(() => {\n  // Automatically use an installed package.\n  // Packages must be installed before this package in .meteor/packages\n\n  const prefix = 'meteoreact:accounts-'\n  const components =\n    Package[prefix + 'unstyled'] ||\n    Package[prefix + 'semantic']\n    // ...\n\n  AccountsReact.components = components\n})\n\nexport default AccountsReact\n","import AccountsReact from './AccountsReact'\nimport AccountsReactComponent from './AccountsReactComponent'\n\nmodule.exports = {\n  AccountsReact,\n  AccountsReactComponent\n}\n","/* eslint key-spacing:0 padded-blocks: 0 */\nimport { Meteor } from 'meteor/meteor'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport AccountsReact from '../AccountsReact'\nimport { handleInputChange } from './commonUtils'\n\nclass BaseForm extends Component {\n  constructor (props) {\n    super()\n    this.handleInputChange = handleInputChange.bind(props.context)\n  }\n\n  componentDidMount () {\n    // We must explicitly rerender recaptcha on every mount\n    if (this.props.showReCaptcha) { // will be available only for signup form.\n      let reCaptchaParams = this.props.defaults.reCaptcha || Meteor.settings.public.reCaptcha\n\n      setTimeout(() => {\n        window.grecaptcha.render('recaptcha-container',\n          { ...reCaptchaParams,\n            callback: window.reCaptchaCallback\n          },\n        )\n      }, 1)\n    }\n  }\n\n  render () {\n    // State specifics\n    const {\n      currentState,\n      values,\n      defaults,\n      onSubmit,\n      errors\n    } = this.props\n\n    // Defaults\n    const {\n      texts,\n      showReCaptcha,\n      confirmPassword\n    } = defaults\n\n    const _fields = defaults.fields[currentState]\n    const fields  = confirmPassword ? _fields : _fields.filter(field => field._id !== 'confirmPassword')\n\n    // texts\n    const title  = texts.title[currentState]\n    const button = texts.button[currentState]\n\n    // Components\n    const {\n      FormField,\n      InputField,\n      SelectField,\n      RadioField,\n      SubmitField,\n      TitleField,\n      ErrorsField\n    } = AccountsReact.components\n\n    // Global errors\n    const globalErrors = errors ? errors.filter(errField => errField._id === '__globals') : []\n\n    return (\n      <FormField onSubmit={(e) => e.preventDefault()} className={`ar-${currentState}`}>\n\n        {/* Title  */}\n        {title && <TitleField text={title} />}\n\n        {/* Fields  */}\n        <div className='ar-fields'>\n          {fields.map((f, i) => {\n\n            let Field = InputField // Defaults to input\n            switch (f.type) {\n              case 'select': Field = SelectField; break;\n              case 'radio':  Field = RadioField;  break;\n            }\n\n            const props = {\n              key: i,\n              values,\n              defaults,\n              onChange: this.handleInputChange,\n              error: errors ? errors.find((errField) => errField._id === f._id) : [],\n              ...f\n            }\n\n            if (this.shouldFocusFirstInput(i)) {\n              props.focusInput = true\n            }\n\n            return React.createElement(Field, props)\n          })}\n        </div>\n\n        {showReCaptcha && <div id='recaptcha-container' />}\n\n        {/* Submit Button  */}\n        <SubmitField onClick={onSubmit} text={button} />\n\n        {/* Errors Message  */}\n        <div className='ar-errors'>\n          {errors.length > 0 && <ErrorsField errors={globalErrors} />}\n        </div>\n\n      </FormField>\n    )\n  }\n\n  shouldFocusFirstInput = index => {\n    return this.props.defaults.focusFirstInput && index === 0\n  }\n}\n\nBaseForm.propTypes = {\n  context: PropTypes.object.isRequired,\n  currentState: PropTypes.string.isRequired,\n  values: PropTypes.object.isRequired,\n  defaults: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  errors: PropTypes.array.isRequired\n}\n\nexport default BaseForm\n","import React, { Component, Fragment } from 'react'\nimport BaseForm from './baseForm'\nimport { validateForm } from '../utils/'\nimport { getModel, redirect } from './commonUtils'\nimport { changePassword } from './methods'\n\nclass ChangePwd extends Component {\n  constructor () {\n    super()\n\n    this.state = {\n      passwordUpdated: false,\n      errors: []\n    }\n\n    this.getModel = getModel.bind(this)\n    this.redirect = redirect.bind(this)\n  }\n\n  componentWillMount () {\n    if (!Meteor.userId()) {\n      this.redirect('signin', this.props.defaults.redirects.toSignIn)\n    }\n  }\n\n  render () {\n    const {\n      currentState,\n      defaults\n    } = this.props\n\n    const {\n      texts\n    } = defaults\n\n    const {\n      passwordUpdated,\n      errors\n    } = this.state\n\n    const model = this.getModel()\n\n    return (\n      <Fragment>\n\n        <BaseForm\n          context={this}\n          currentState={currentState}\n          values={model}\n          defaults={defaults}\n          onSubmit={this.onSubmit}\n          errors={errors}\n        />\n\n        {passwordUpdated && <p>{texts.info.pwdChanged}</p>}\n\n      </Fragment>\n    )\n  }\n\n  onSubmit = () => {\n    // Validate form\n    if (!validateForm(this.getModel(), this)) return\n\n    const { currentPassword, password } = this.getModel()\n\n    // Change password\n    changePassword(currentPassword, password, err => {\n      if (err) {\n        this.setState({ errors: [{ _id: '__globals', errStr: err.reason }], passwordUpdated: false })\n      } else {\n        this.setState({ errors: [], passwordUpdated: true })\n      }\n\n      this.props.defaults.onSubmitHook(err, this.props.currentState)\n    })\n  }\n}\n\nexport default ChangePwd\n","import React, { Component, Fragment } from 'react'\nimport BaseForm from './baseForm'\nimport { validateForm } from '../utils/'\nimport { getModel, redirect } from './commonUtils'\nimport { forgotPassword } from './methods'\n\nclass ForgotPassword extends Component {\n  constructor () {\n    super()\n    this.state = {\n      emailSent: false,\n      errors: []\n    }\n\n    this.getModel = getModel.bind(this)\n    this.redirect = redirect.bind(this)\n  }\n\n  render () {\n    const {\n      currentState,\n      defaults\n    } = this.props\n\n    const {\n      texts,\n      hideSignInLink\n    } = defaults\n\n    const {\n      errors,\n      emailSent\n    } = this.state\n\n    const model = this.getModel()\n\n    return (\n      <Fragment>\n\n        <BaseForm\n          context={this}\n          currentState={currentState}\n          values={model}\n          defaults={defaults}\n          onSubmit={this.onSubmit}\n          errors={errors}\n        />\n\n        {emailSent && <p className='email-sent'>{texts.info.emailSent}</p>}\n\n        {!hideSignInLink && (\n          <a className='signIn-link' onMouseDown={this.redirectToSignIn} href=''>\n            {texts.links.toSignIn}\n          </a>\n        )}\n      </Fragment>\n    )\n  }\n\n  onSubmit = () => {\n    // Validate form\n    if (!validateForm(this.getModel(), this)) return\n\n    this.sentPasswordResetLink()\n  }\n\n  sentPasswordResetLink = () => {\n    // Send a reset link to the desired email\n\n    forgotPassword({ email: this.state.email }, err => {\n      if (err) {\n        this.setState({ errors: [{ _id: '__globals', errStr: err.reason }], emailSent: false })\n      } else {\n        this.setState({ errors: [], emailSent: true })\n      }\n\n      this.props.defaults.onSubmitHook(err, this.props.currentState)\n    })\n  }\n\n  redirectToSignIn = () => {\n    this.redirect('signIn', this.props.defaults.redirects.toSignIn)\n  }\n}\n\nexport default ForgotPassword\n","import React, { createElement } from 'react'\nimport PropTypes from 'prop-types'\nimport SignIn from './signIn'\nimport SignUp from './signUp'\nimport ForgotPwd from './forgotPwd'\nimport ChangePwd from './changePwd'\nimport ResetPwd from './resetPwd'\nimport AccountsReact from '../AccountsReact'\nimport merge from '../utils/deepmerge'\n\nclass AccountsReactComponent extends React.Component {\n\n  state = {\n    internalState: '' // If set - it will override state from props\n  }\n\n  render () {\n    ensureComponentsExist()\n    \n    // State priority -> 1.internal 2. provided by route/state prop (from parent component) 3. default state from config\n    let state = this.state.internalState || this.props.state\n    if (!state) {\n      const { mapStateToRoute } = AccountsReact.config\n      const { route } = this.props\n\n      if (route) {\n        state = Object.keys(mapStateToRoute).find(key => mapStateToRoute[key] === route)\n      } else {\n        state = AccountsReact.config.defaultState\n      }\n    }\n\n    let form\n    switch (state) {\n      case 'signIn':    form = SignIn;    break;\n      case 'signUp':    form = SignUp;    break;\n      case 'forgotPwd': form = ForgotPwd; break;\n      case 'changePwd': form = ChangePwd; break;\n      case 'resetPwd':  form = ResetPwd;  break;\n      default: return null\n    }\n\n    const defaults = merge.all([\n      AccountsReact.config,\n      this.props.config\n    ])\n\n    if (!defaults.enablePasswordChange && state === 'changePwd') {\n      return null\n    }\n\n    const props = {\n      currentState: state,\n      changeState: this.changeInternalState,\n      history: this.props.history,\n      token: this.props.token,\n      defaults\n    }\n\n    return createElement(form, props)\n  }\n\n  changeInternalState = toState => {\n    this.setState({ internalState: toState })\n  }\n}\n\nfunction ensureComponentsExist () {\n  if (!AccountsReact.components) {\n    throw new Error('Please ensure you have provided AccountsReact a set of components to use')\n  }\n}\n\nAccountsReactComponent.defaultProps = {\n  config: {}\n}\n\nAccountsReactComponent.propTypes = {\n  state: PropTypes.string,\n  route: PropTypes.string,\n  config: PropTypes.object\n}\n\nexport default AccountsReactComponent\n","import React, { Component, Fragment } from 'react'\nimport BaseForm from './baseForm'\nimport { validateForm } from '../utils/'\nimport { getModel, redirect } from './commonUtils'\nimport { resetPassword } from './methods'\n\nclass ResetPwd extends Component {\n  constructor () {\n    super()\n    this.state = {\n      passwordUpdated: false,\n      errors: []\n    }\n\n    this.getModel = getModel.bind(this)\n    this.redirect = redirect.bind(this)\n  }\n\n  render () {\n    const {\n      currentState,\n      defaults\n    } = this.props\n\n    const {\n      texts\n    } = defaults\n\n    const {\n      passwordUpdated,\n      errors\n    } = this.state\n\n    const model = this.getModel()\n\n    return (\n      <Fragment>\n\n        <BaseForm\n          context={this}\n          currentState={currentState}\n          values={model}\n          defaults={defaults}\n          onSubmit={this.onSubmit}\n          errors={errors}\n        />\n\n        {passwordUpdated && <p>{texts.info.pwdSet}</p>}\n\n      </Fragment>\n    )\n  }\n\n  onSubmit = () => {\n    // Validate form\n    if (!validateForm(this.getModel(), this)) return\n\n    const { password } = this.getModel()\n\n    // Change password\n    resetPassword(this.props.token, password, err => {\n      if (err) {\n        this.setState({ errors: [{ _id: '__globals', errStr: err.reason }], passwordUpdated: false })\n      } else {\n        this.setState({ errors: [], passwordUpdated: true })\n      }\n\n      this.props.defaults.onSubmitHook(err, this.props.currentState)\n    })\n  }\n}\n\nexport default ResetPwd\n","import React, { Component, Fragment } from 'react'\nimport BaseForm from './baseForm'\nimport { validateForm } from '../utils'\nimport { getModel, redirect } from './commonUtils'\nimport { login } from './methods'\nimport SocialButtons from './socialButtons'\n\nclass SignIn extends Component {\n  constructor () {\n    super()\n    this.state = {\n      errors: []\n    }\n\n    this.getModel = getModel.bind(this)\n    this.redirect = redirect.bind(this)\n  }\n\n  render () {\n    const {\n      currentState,\n      defaults\n    } = this.props\n\n    const {\n      texts,\n      hideSignUpLink,\n      showForgotPasswordLink\n    } = defaults\n\n    const model = this.getModel()\n\n    return (\n      <Fragment>\n        <BaseForm\n          context={this}\n          currentState={currentState}\n          values={model}\n          defaults={defaults}\n          onSubmit={this.onSubmit}\n          errors={this.state.errors}\n        />\n\n        <SocialButtons\n          defaults={defaults}\n        />\n\n        {!hideSignUpLink && (\n          <a className='signIn-link' onMouseDown={this.redirectToSignUp} style={linkStyle} href=''>\n            {texts.links.toSignUp}\n          </a>\n        )}\n        {showForgotPasswordLink && (\n          <a className='forgotPwd-link' onMouseDown={this.redirectToForgotPwd} style={linkStyle} href=''>\n            {texts.links.toForgotPwd}\n          </a>\n        )}\n      </Fragment>\n    )\n  }\n\n  onSubmit = () => {\n    /* Login */\n    const model = this.getModel()\n\n    // Validate form\n    if (!validateForm(model, this)) return\n\n    const { username, email, password } = model\n\n    // Login\n    login(username, email, password, err => {\n      if (err) {\n        this.setState({ errors: [{ _id: '__globals', errStr: err.reason }] })\n      } else {\n        const { onLoginHook } = this.props.defaults\n        if (onLoginHook) {\n          onLoginHook()\n        }\n      }\n    })\n  }\n\n  redirectToSignUp = () => {\n    this.redirect('signUp', this.props.defaults.redirects.toSignUp)\n  }\n\n  redirectToForgotPwd = () => {\n    this.redirect('forgotPwd', this.props.defaults.redirects.toForgotPwd)\n  }\n}\n\nconst linkStyle = {\n  display: 'block',\n  cursor : 'pointer'\n}\n\nexport default SignIn\n","import React, { Component, Fragment } from 'react'\nimport { Accounts } from 'meteor/accounts-base'\nimport AccountsReact from '../AccountsReact'\nimport BaseForm from './baseForm'\nimport { validateForm } from '../utils'\nimport { getModel, redirect } from './commonUtils'\nimport { createUser, login } from './methods'\n\nclass SignUp extends Component {\n  constructor () {\n    super()\n    this.state = {\n      errors: []\n    }\n\n    this.getModel = getModel.bind(this)\n    this.redirect = redirect.bind(this)\n  }\n\n  render () {\n    const {\n      currentState,\n      defaults\n    } = this.props\n\n    const {\n      texts,\n      hideSignInLink,\n      showReCaptcha\n    } = defaults\n\n    return (\n      <Fragment>\n        <BaseForm\n          context={this}\n          currentState={currentState}\n          values={this.getModel()}\n          defaults={defaults}\n          onSubmit={this.onSubmit}\n          errors={this.state.errors}\n          showReCaptcha={showReCaptcha}\n        />\n\n        {!hideSignInLink && (\n          <a className='signIn-link' onMouseDown={this.redirectToSignIn} style={linkStyle} href=''>\n            {texts.links.toSignIn}\n          </a>\n        )}\n      </Fragment>\n    )\n  }\n\n  onSubmit = () => {\n    const model = this.getModel()\n    // Validate form\n    if (!validateForm(model, this)) { return }\n\n    const {\n      username,\n      email,\n      password,\n      confirmPassword, // dont delete so it doesn't get included in profile object.\n      ...profile\n    } = this.getModel()\n\n    // The user object to insert\n    const newUser = {\n      username,\n      email,\n      password: password ? Accounts._hashPassword(password) : '',\n      ...profile\n    }\n\n    const {\n      showReCaptcha,\n      preSignupHook,\n      onSubmitHook,\n      loginAfterSignup\n    } = this.props.defaults\n\n    // Add recaptcha field\n    if (showReCaptcha) {\n      newUser.tempReCaptchaResponse = AccountsReact.config.tempReCaptchaResponse\n    }\n\n    preSignupHook(password, newUser)\n\n    createUser(newUser, err => {\n      if (err) {\n        // validation errors suppose to be inside an array, if string then its a different error\n        if (typeof err.reason !== 'string') {\n          this.setState({ errors: err.reason })\n        } else {\n          this.setState({ errors: [{ _id: '__globals', errStr: err.reason }] })\n        }\n      } else if (loginAfterSignup) {\n        const { password } = this.getModel()\n        const { username, email } = newUser\n\n        login(username, email, password, err => {\n          if (err) { return } // ?\n        })\n      }\n\n      onSubmitHook(err, this.props.currentState)\n    })\n  }\n\n  redirectToSignIn = () => {\n    this.redirect('signIn', this.props.defaults.redirects.toSignIn)\n  }\n}\n\nconst linkStyle = {\n  display: 'block'\n}\n\nexport default SignUp\n","import React from 'react'\nimport { Accounts } from 'meteor/accounts-base'\nimport AccountsReact from '../AccountsReact'\n\nclass SocialButtons extends React.Component {\n\n  render () {\n    if (!Accounts.oauth) {\n      return null\n    }\n\n    const services = Accounts.oauth.serviceNames()\n    const { SubmitField } = AccountsReact.components\n    return services && services.map((service, i) => {\n\n      return (\n        <SubmitField\n          key={i}\n          onClick={() => this.loginWith(service)}\n          social={service}\n          text={service}\n        />\n      )\n    })\n  }\n\n  loginWith = service => {\n    let _service = service[0].toUpperCase() + service.substr(1)\n\n    if (service === 'meteor-developer') {\n      _service = 'MeteorDeveloperAccount'\n    }\n\n    const options = AccountsReact.config.oauth[service] || {}\n    Meteor['loginWith' + _service](options, err => {\n      if (!err) {\n        const { onLoginHook } = this.props.defaults\n        if (onLoginHook) {\n          onLoginHook()\n        }\n      }\n    })\n  }\n}\n\nexport default SocialButtons\n","\n/* Generic getModel for the state components */\n\nfunction getModel () {\n  /* Get only form values from state, \"this\" is binded to the state's class */\n\n  const {\n    currentState,\n    defaults\n  } = this.props\n\n  const stateKeys = Object.keys(this.state)\n  const fields = defaults.fields[currentState]\n  const model = stateKeys\n    .filter(key => fields.find(f => f._id === key)) // Only keys in the defined fields array\n    .reduce((obj, key) => { // Create a new object\n      obj[key] = this.state[key]\n      return obj\n    }, {})\n\n  return model\n}\n\nexport default getModel\n","import { validateOnChange } from '../../utils/validateField'\n\n/* Define a change handler for fields */\n\nfunction handleInputChange (e, _id) {\n  // *this* is bound to calling components\n\n  // Check if e is already a string value or an event object\n  const value = typeof e === 'string' ? e : e.target.value\n\n  if (fieldChangedAtLeastOnce(this.state, _id, value)) return\n\n  const {\n    currentState,\n    defaults\n  } = this.props\n\n  const fields = defaults.fields[currentState]\n  // if e is a string it means that it's a default value and doesn't need to pass validation\n  if (typeof e !== 'string') {\n    const errors = validateOnChange(e, _id, fields, this.getModel(), [...this.state.errors])\n\n    if (errors) {\n      this.setState({ errors })\n    }\n  }\n  this.setState({ [_id]: value })\n}\n\nfunction fieldChangedAtLeastOnce (state, _id, value) {\n  return !state.hasOwnProperty(_id) && value === ''\n}\n\nexport default handleInputChange\n","import getModel          from './getModel'\nimport redirect          from './redirect'\nimport handleInputChange from './handleInputChange'\n\nexport {\n  getModel,\n  redirect,\n  handleInputChange\n}\n","import AccountsReact from '../../AccountsReact'\n\n/* Redirect to different state after link clicked */\n\nconst redirect = function (toState, hook) {\n  // *this* is bound to the calling components\n  //  Run hook function if set || push state via history || change state internally\n\n  if (hook) {\n    hook()\n  } else if (this.props.history) {\n    this.props.history.push(AccountsReact.config.mapStateToRoute[toState])\n  } else {\n    this.props.changeState(toState)\n  }\n\n  return\n}\n\nexport default redirect\n","import { Accounts } from 'meteor/accounts-base'\nimport { ValidatedMethod } from 'meteor/mdg:validated-method'\nimport AccountsReact from '../../AccountsReact'\nimport validateField from '../../utils/validateField'\n\n\nconst ARCreateAccount = new ValidatedMethod({\n  name: 'ARCreateAccount',\n  validate: ({ username, email, password, ...profile }) => {\n    /* This validation runs on both client and server */\n\n    if (Meteor.userId()) {\n      throw new Meteor.Error('Error', 'Already logged in')\n    }\n\n    let signupFields = AccountsReact.config.fields.signUp\n\n    // Remove password confirmation if not set\n    if (!AccountsReact.config.confirmPassword) {\n      signupFields = signupFields.filter(f => f._id !== 'confirmPassword')\n    }\n\n    // Check that recaptcha token is included if necessary\n    if (AccountsReact.config.showReCaptcha && !profile.tempReCaptchaResponse) {\n      throw new Meteor.Error('ReCaptchaError', AccountsReact.config.texts.errors.captchaVerification)\n    }\n\n    const newUser = {\n      username,\n      email,\n      password,\n      ...profile // Flat profile object so each key:value pair gets validated as a field\n    }\n\n    let errors = []\n    signupFields.forEach(field => {\n      validateField(signupFields, field, newUser[field._id], newUser, errors)\n    })\n\n    if (errors.length > 0) {\n      throw new Meteor.Error('ARCreateAccount', errors)\n    }\n  },\n  run (newUser) {\n    const {\n      username,\n      email,\n      password,\n      ...profile\n    } = newUser\n\n    const userObject = {\n      username,\n      email,\n      password,\n      profile\n    }\n\n    // Unnecessary fields (used only for validation)\n    delete userObject.profile.passwordConfirmation\n\n    if (!username) {\n      delete userObject.username\n    } else if (!email) {\n      delete userObject.email\n    }\n    \n    // Create the user on the server only!\n    if (Meteor.isServer) {\n      if (AccountsReact.config.showReCaptcha) {\n        const res = HTTP.post('https://www.google.com/recaptcha/api/siteverify', {\n          params:  {\n            secret: AccountsReact.config.reCaptcha.secretKey || Meteor.settings.reCaptcha.secretKey,\n            response: userObject.profile.tempReCaptchaResponse,\n            remoteip: this.connection.clientAddress\n          }\n        }).data\n\n        if (!res.success) {\n          throw new Meteor.Error('ReCaptchaError', AccountsReact.config.texts.errors.captchaVerification)\n        }\n\n        delete userObject.profile.tempReCaptchaResponse\n      }\n\n      const userId = Accounts.createUser(userObject)\n\n      if (!userId) {\n        // safety belt. createUser is supposed to throw on error. send 500 error\n        // instead of sending a verification email with empty userid.\n\n        /* it was taken directly from useraccounts package */\n        throw new Error('createUser failed to insert new user')\n      }\n\n      if (userObject.email && AccountsReact.config.sendVerificationEmail) {\n        Accounts.sendVerificationEmail(userId, userObject.email)\n      }\n    }\n  }\n})\n\nexport default ARCreateAccount\n","/* globals Meteor: true */\nimport { Accounts } from 'meteor/accounts-base'\nimport ARCreateAccount from './ARCreateAccount'\nimport AccountsReact from '../../AccountsReact'\n// Create user\nexport const createUser = (newUser, callback) => {\n  ARCreateAccount.call(newUser, callback)\n}\n\n// Login\nexport const login = (username, email, password, callback) => {\n  Meteor.loginWithPassword(username || email, password, err => {\n    callback(err)\n  })\n}\n\n// Forgot password\nexport const forgotPassword = (email, callback) => {\n  Accounts.forgotPassword(email, callback)\n}\n\n// Change password\nexport const changePassword = (oldPassword, newPassword, callback) => {\n  Accounts.changePassword(oldPassword, newPassword, callback)\n}\n\n// Reset password\nexport const resetPassword = (token, newPassword, callback) => {\n  Accounts.resetPassword(token, newPassword, callback)\n}\n","import regExp from './regExp'\nimport validateField, { validateOnChange } from './validateField'\nimport validateForm from './validateForm'\n\nexport {\n  regExp,\n  validateField,\n  validateOnChange,\n  validateForm\n}\n","\n// Credit to aldeed/simple-schema package\n\nexport default {\n  // Emails with TLD\n  Email: /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[A-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[A-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[A-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?$/,\n  Username: /^[a-zA-Z0-9]+([_ -]?[a-zA-Z0-9])*$/\n}\n","import AccountsReact from '../AccountsReact'\n/* Validate fields specified in AccountsReact.config */\n\nconst validateField = (fields, fieldObj, value, model, errorsArray = []) => {\n  const {\n    _id,\n    required,\n    func,\n    re,\n    minLength,\n    maxLength,\n    errStr\n  } = fieldObj\n\n  // Validate through a function provided by the user\n  if (func) {\n    return func(fields, fieldObj, value, model, errorsArray)\n  }\n\n  // Make sure that a value exists and required is not false to continue validation\n  if (!value) {\n    if (required === false) {\n      // Do nothing\n      return true\n    } else {\n      errorsArray.push({ _id, errStr: errStr || `${_id} is required` })\n      return\n    }\n  }\n\n  // Validate by regular exporession\n  if (re && !re.test(value)) {\n    errorsArray.push({ _id, errStr: errStr || `${value} is not valid as ${_id}` })\n    return\n  }\n\n  // Validate min length\n  if (minLength && minLength > value.length) {\n    errorsArray.push({ _id, errStr: errStr || `${_id} length must be at least ${minLength} characters` })\n    return\n  }\n\n  // Validate max length\n  if (maxLength && maxLength < value.length) {\n    errorsArray.push({ _id, errStr: errStr || `${_id} length must be no more than ${maxLength} characters` })\n    return\n  }\n\n  return true\n}\n\n/* Validate fields on change events when validateOnChange or validateOnFocusOut are set to true */\n\nconst validateOnChange = (e, _id, fields, model, errors) => {\n  const { type, target } = e\n  const { continuousValidation, negativeValidation } = AccountsReact.config\n\n  // Check the conditions match settings\n  if ((type === 'blur' && negativeValidation) || (type === 'change' && continuousValidation)) {\n    const fieldObj = fields.find(f => f._id === _id)\n\n    if (!validateField(fields, fieldObj, target.value, model, errors)) {\n      return errors\n    } else {\n      // Make sure error object for the field doesn't stay after it is valid\n      return errors.filter(err => err._id !== _id)\n    }\n  }\n}\n\nexport {\n  validateField as default,\n  validateOnChange\n}\n","import validateField from './validateField'\n\n// Generic form validation for the state components\n\nconst validateForm = (model, context) => {\n  let _errors = []\n\n  // Validate login credentials on client, \"loginWithPassword\" method will validate on server.\n  const {\n    currentState,\n    defaults\n  } = context.props\n\n  const fields = defaults.fields[currentState]\n  fields.forEach(field => {\n    validateField(fields, field, model[field._id], model, _errors)\n  })\n\n  if (_errors.length > 0) {\n    context.setState({ errors: _errors })\n    return false\n  }\n  return true\n}\n\nexport default validateForm\n","/*\n  Credit to Kyle Mathews\n  https://github.com/KyleAMathews/deepmerge\n*/\n\nimport defaultIsMergeableObject from './is-mergeable-object'\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {}\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options)\n\t\t})\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options)\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options)\n\t\t}\n\t})\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {}\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge\n\toptions.isMergeableObject = options.isMergeableObject || defaultIsMergeableObject\n\n\tvar sourceIsArray = Array.isArray(source)\n\tvar targetIsArray = Array.isArray(target)\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n}\n\nmodule.exports = deepmerge\n","/*\n  Credit to Josh Duff\n  https://github.com/TehShrike/is-mergeable-object\n*/\n\nmodule.exports = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n}\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value)\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n"]}